<!DOCTYPE html>
<html
     xmlns:th="http://www.thymeleaf.org" 
     xmlns:layout="http://www.ultraq.net.nz" lang="en"
     layout:decorate="template"
  >
<head>
<meta charset="utf-8">
<title>Insert title here</title>
</head>
<body>
       <div>
             <div layout:fragment="content">
                   <div class="col-md-10 m-auto mt-2 mb-2">
                        <div class="card bg-light mb-3 mt-3">
                             <div class="card-heading bg-success text-center">Customers</div>
                             <div th:with="test = ${message}">
                             <div class="col-md-4 offset-4 mt-2" th:if="${test}">
                                 <div class="alert alert-warning alert-dismissible fade show" role="alert">
									  <div  class="text-success text-center"   th:text="${message}">
                          
                                      </div> 
									  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
								 </div>
							  </div>
							  <div th:unless="${message}">
							  </div>
							  </div>
                             <div class="card-body">
                                  <table class="table table-striped">
                                        <thead>
	                                       <tr>
	                                          <th>First name</th><th>Last name</th><th>Email</th><th></th><th></th><th>Action</th>
	                                       </tr>
	                                    </thead>
	                                    <tbody>
	                                          <tr th:if="${customers.empty}">
						                          <td colspan="3">No employee found</td>
					                          </tr>
	                                          <tr th:each="customer: ${customers}">
	                                               <td th:text="${customer.firstName}"></td>
	                                               <td th:text="${customer.lastName}"></td>
	                                               <td th:text="${customer.email}"></td>
	                                               <td></td>
	                                               <td></td>
	                                               <td >
	                                                  <a class="btn btn-info" th:href="@{/updateCustomer(id=${customer.id},page=${currentPage},keyword=${keyword})}"><i class="bi bi-pencil"></i></a>
	                                                  <a class="btn btn-info" th:href="@{/smsCustomer(id=${customer.id},page=${currentPage},keyword=${keyword})}"><i class="bi bi-envelope"></i></a>
	                                               </td>
	                                          </tr>
	                                    </tbody>
                                  </table>
                                  <div class="container">
	                                  <ul class="nav nav-pills">
	                                      <li th:each="p,status:${pages}">
	                                          <a th:class="${status.index==currentPage?'btn btn-info ms-1':'btn btn-outline-info ms-1'}"
	                                             th:href="@{/indexCustomers(page=${status.index})}"  
	                                             th:text="${status.index}"
	                                             ></a>
	                                      </li>
	                                  </ul>
	                              </div>
	                              <small class="offset-5"><a class="btn btn-danger mt-1" th:href="@{/index}">Go Back</a></small>
                             </div>
                        </div>
                   </div>
             </div>
       </div>
</body>
</html>